<app-storage name="settings.product" type="local" [(ngModel)]="settings" (ngModelChange)="onCacheChange($event)"></app-storage>
<!-- <hr>
settings
{{settings | json}} -->

<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-header">
        <div style="width: 100%">
          <!-- <div class="d-flex flex-row">
            <div class="d-block d-sm-none d-md-none d-lg-none d-xl-none" style="flex:2 0px">
              <input class="form-control" style="height: 46px" type="search" value="" placeholder="Search" id="example-search-input">
            </div>
          </div> -->
          <div class="d-flex flex-row">
            <!-- <div class="d-none d-sx-none d-sm-none d-md-block">
              <span style="margin-right: 10px; line-height: 45px ">
                Products
              </span>
            </div> -->
            <div class="d-none d-sx-none d-sm-block d-md-block" style="flex:2 0px">
              <!-- <input class="form-control" style="height: 46px" type="search" value="" placeholder="Search" id="example-search-input"> -->
            </div>
            <div class="d-flex ">
              <div class="float-right">
                <!-- <button class="btn btn-secondary" [ngClass]="{'active': pageView =='table'}" (click)="pageView='table'">
                  <i class="fa fa-table fa-2x"></i>
                </button>
                <button class="btn btn-secondary" [ngClass]="{'active': pageView =='list'}" (click)="pageView='list'">
                  <i class="fa fa-th-list fa-2x"></i>
                </button>
                <button class="btn btn-secondary" [ngClass]="{'active': pageView =='grid'}" (click)="pageView='grid'"
                  style="margin-right: 20px">
                  <i class="fa fa-address-card-o fa-2x"></i>
                </button> -->
                <button class="btn btn-outline-primary">
                  <i class="fa fa-plus fa-2x"></i>
                </button>
                <button class="btn btn-outline-success" (click)="save()">
                  <i class="fa fa-save fa-2x"></i>
                </button>
                <button class="btn btn-outline-danger">
                  <i class="fa fa-trash fa-2x"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-body">


        <div class="taskboard" *ngIf="settings">
          <div class="taskboard-wrapper col-md-6">
            <div class="taskboard-list">
              <h6 class="taskboard-header">Selected Columns</h6>
              <div class="taskboard-cards" [dragula]="MANY_ITEMS" [(dragulaModel)]='settings.selectedColumns'>
                <div class="taskboard-task" *ngFor='let item of settings.selectedColumns'>

                  <div class="form-group row">
                    <!-- <label class="col-sm-2 col-form-label">Prop</label> -->
                    <div class="col-sm-10">
                      <label class="col-form-label">{{item.prop}}</label>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label">Title</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" [name]="item.prop+'title'" [(ngModel)]="item.name">
                    </div>
                  </div>

                  <div class="form-group row">
                    <label class="col-sm-2 col-form-label">flexGrow</label>
                    <div class="col-sm-6">
                      <input type="number" class="form-control" [name]="item.prop+'flexGrow'" [(ngModel)]="item.flexGrow">
                    </div>
                    <div class="col-sm-3">
                      <label class="form-check-label" style="margin-left: 10px">
                        <input type="checkbox" class="form-check-input" [name]="item.prop+'sortable'" id="" [checked]="item.sortable"
                          (change)="item.sortable = !item.sortable">
                        Sortable
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="taskboard-wrapper col-md-4">
            <div class="taskboard-list">
              <h6 class="taskboard-header">available Columns</h6>
              <div class="taskboard-cards" [dragula]="MANY_ITEMS" [(dragulaModel)]='settings.availableColumns'>
                <div class="taskboard-task" *ngFor='let item of settings.availableColumns'>
                  <div class="taskboard-task-title" [innerHtml]='item.name'></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
